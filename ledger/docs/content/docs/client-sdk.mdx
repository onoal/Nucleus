---
title: Client SDK
description: Type-safe client SDK for interacting with registry APIs
---

# Client SDK

The Registry Client SDK provides a type-safe way to interact with Registry Framework APIs.

## Installation

```bash
pnpm add @onoal/registry-client
```

## Quick Start

```typescript
import { RegistryClient } from "@onoal/registry-client";

const client = new RegistryClient({
  baseUrl: "https://registry.example.com",
  apiKey: "optional-api-key", // Optional
});
```

## Asset Types

```typescript
// Register asset type
const assetType = await client.assetTypes.register({
  typeId: "atp_123...",
  issuerOid: "oid:onoal:org:festival",
  slug: "festival-ticket",
  name: "Festival Ticket",
  category: "ticket",
  orgOid: "oid:onoal:org:festival",
});

// Get asset type by ID
const assetType = await client.assetTypes.getById("atp_123...");

// List asset types
const assetTypes = await client.assetTypes.list({
  orgOid: "oid:onoal:org:festival",
  category: "ticket",
});

// Update asset type
const updated = await client.assetTypes.update("atp_123...", {
  name: "Updated Name",
  description: "New description",
});

// Delete asset type
await client.assetTypes.delete("atp_123...");
```

## Proof Types

```typescript
// Register proof type
const proofType = await client.proofTypes.register({
  type: "AgeOver18",
  issuerOid: "oid:onoal:org:identity",
  orgOid: "oid:onoal:org:identity",
  name: "Age Over 18",
  category: "verification",
});

// Get proof type
const proofType = await client.proofTypes.getByType(
  "AgeOver18",
  "oid:onoal:org:identity"
);

// List proof types
const proofTypes = await client.proofTypes.list({
  orgOid: "oid:onoal:org:identity",
});
```

## Apps

```typescript
// Register app
const app = await client.apps.register({
  appOid: "oid:onoal:app:festival-app",
  orgOid: "oid:onoal:org:festival",
  name: "Festival App",
  status: "active",
  ticketTypes: ["ticket"],
});

// Get app
const app = await client.apps.getByOid("oid:onoal:app:festival-app");

// List apps
const apps = await client.apps.list({
  orgOid: "oid:onoal:org:festival",
  status: "active",
});
```

## Authentication

The client supports optional API key authentication:

```typescript
const client = new RegistryClient({
  baseUrl: "https://registry.example.com",
  apiKey: process.env.REGISTRY_API_KEY,
});
```

The API key will be sent as a Bearer token in the `Authorization` header.

## Error Handling

All methods throw errors on HTTP errors:

```typescript
try {
  const assetType = await client.assetTypes.getById("atp_123...");
} catch (error) {
  if (error.message.includes("404")) {
    console.log("Asset type not found");
  } else {
    console.error("Error:", error.message);
  }
}
```

## Type Safety

The client is fully type-safe with TypeScript:

```typescript
// TypeScript knows the exact shape of responses
const assetType = await client.assetTypes.getById("atp_123...");
// assetType is typed as AssetTypeRegistryEntry

const assetTypes = await client.assetTypes.list();
// assetTypes is typed as AssetTypeRegistryEntry[]
```
